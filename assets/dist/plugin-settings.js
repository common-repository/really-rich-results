!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wp.compose},function(e,t){e.exports=window.wp.primitives},function(e,t){e.exports=window.wp.apiFetch},,,function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1),a=n(2),l=n(3),i=n(4),s=Object(r.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(i.Path,{d:"M18.3 5.6L9.9 16.9l-4.6-3.4-.9 1.2 5.8 4.3 9.3-12.6z"})),c=Object(r.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(i.Path,{d:"M20 5h-5.7c0-1.3-1-2.3-2.3-2.3S9.7 3.7 9.7 5H4v2h1.5v.3l1.7 11.1c.1 1 1 1.7 2 1.7h5.7c1 0 1.8-.7 2-1.7l1.7-11.1V7H20V5zm-3.2 2l-1.7 11.1c0 .1-.1.2-.3.2H9.1c-.1 0-.3-.1-.3-.2L7.2 7h9.6z"})),u=Object(r.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(i.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),p=n(5),g=n.n(p);function f(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function b(e){return!!e&&!!e[Z]}function d(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&Function.toString.call(n)===ee}(e)||Array.isArray(e)||!!e[Q]||!!e.constructor[Q]||v(e)||h(e))}function y(e,t,n){void 0===n&&(n=!1),0===S(e)?(n?Object.keys:te)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function S(e){var t=e[Z];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:v(e)?2:h(e)?3:0}function m(e,t){return 2===S(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function O(e,t,n){var r=S(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function v(e){return $&&e instanceof Map}function h(e){return J&&e instanceof Set}function T(e){return e.o||e.t}function E(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ne(e);delete t[Z];for(var n=te(t),r=0;r<n.length;r++){var o=n[r],a=t[o];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function P(e,t){return void 0===t&&(t=!1),_(e)||b(e)||!d(e)||(S(e)>1&&(e.set=e.add=e.clear=e.delete=j),Object.freeze(e),t&&y(e,(function(e,t){return P(t,!0)}),!0)),e}function j(){f(2)}function _(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function A(e){var t=re[e];return t||f(18,e),t}function w(){return H}function G(e,t){t&&(A("Patches"),e.u=[],e.s=[],e.v=t)}function x(e){C(e),e.p.forEach(L),e.p=null}function C(e){e===H&&(H=e.l)}function z(e){return H={p:[],l:H,h:e,m:!0,_:0}}function L(e){var t=e[Z];0===t.i||1===t.i?t.j():t.g=!0}function N(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||A("ES5").S(t,e,r),r?(n[Z].P&&(x(t),f(4)),d(e)&&(e=B(t,e),t.l||D(t,e)),t.u&&A("Patches").M(n[Z],e,t.u,t.s)):e=B(t,n,[]),x(t),t.u&&t.v(t.u,t.s),e!==q?e:void 0}function B(e,t,n){if(_(t))return t;var r=t[Z];if(!r)return y(t,(function(o,a){return R(e,r,t,o,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return D(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=E(r.k):r.o;y(3===r.i?new Set(o):o,(function(t,a){return R(e,r,o,t,a,n)})),D(e,o,!1),n&&e.u&&A("Patches").R(r,n,e.u,e.s)}return r.o}function R(e,t,n,r,o,a){if(b(o)){var l=B(e,o,a&&t&&3!==t.i&&!m(t.D,r)?a.concat(r):void 0);if(O(n,r,l),!b(l))return;e.m=!1}if(d(o)&&!_(o)){if(!e.h.F&&e._<1)return;B(e,o),t&&t.A.l||D(e,o)}}function D(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&P(t,n)}function I(e,t){var n=e[Z];return(n?T(n):e)[t]}function k(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function M(e){e.P||(e.P=!0,e.l&&M(e.l))}function F(e){e.o||(e.o=E(e.t))}function U(e,t,n){var r=v(t)?A("MapSet").N(t,n):h(t)?A("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:w(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,a=oe;n&&(o=[r],a=ae);var l=Proxy.revocable(o,a),i=l.revoke,s=l.proxy;return r.k=s,r.j=i,s}(t,n):A("ES5").J(t,n);return(n?n.A:w()).p.push(r),r}function V(e){return b(e)||f(22,e),function e(t){if(!d(t))return t;var n,r=t[Z],o=S(t);if(r){if(!r.P&&(r.i<4||!A("ES5").K(r)))return r.t;r.I=!0,n=K(t,o),r.I=!1}else n=K(t,o);return y(n,(function(t,o){r&&function(e,t){return 2===S(e)?e.get(t):e[t]}(r.t,t)===o||O(n,t,e(o))})),3===o?new Set(n):n}(e)}function K(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return E(e)}var Y,H,W="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),$="undefined"!=typeof Map,J="undefined"!=typeof Set,X="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,q=W?Symbol.for("immer-nothing"):((Y={})["immer-nothing"]=!0,Y),Q=W?Symbol.for("immer-draftable"):"__$immer_draftable",Z=W?Symbol.for("immer-state"):"__$immer_state",ee=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),te="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ne=Object.getOwnPropertyDescriptors||function(e){var t={};return te(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},re={},oe={get:function(e,t){if(t===Z)return e;var n=T(e);if(!m(n,t))return function(e,t,n){var r,o=k(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!d(r)?r:r===I(e.t,t)?(F(e),e.o[t]=U(e.A.h,r,e)):r},has:function(e,t){return t in T(e)},ownKeys:function(e){return Reflect.ownKeys(T(e))},set:function(e,t,n){var r=k(T(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=I(T(e),t),a=null==o?void 0:o[Z];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,o)&&(void 0!==n||m(e.t,t)))return!0;F(e),M(e)}return e.o[t]===n&&"number"!=typeof n||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==I(e.t,t)||t in e.t?(e.D[t]=!1,F(e),M(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=T(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){f(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){f(12)}},ae={};y(oe,(function(e,t){ae[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ae.deleteProperty=function(e,t){return oe.deleteProperty.call(this,e[0],t)},ae.set=function(e,t,n){return oe.set.call(this,e[0],t,n,e[0])};var le=new(function(){function e(e){var t=this;this.O=X,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,l=Array(r>1?r-1:0),i=1;i<r;i++)l[i-1]=arguments[i];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(l))}))}}var l;if("function"!=typeof n&&f(6),void 0!==r&&"function"!=typeof r&&f(7),d(e)){var i=z(t),s=U(t,e,void 0),c=!0;try{l=n(s),c=!1}finally{c?x(i):C(i)}return"undefined"!=typeof Promise&&l instanceof Promise?l.then((function(e){return G(i,r),N(e,i)}),(function(e){throw x(i),e})):(G(i,r),N(l,i))}if(!e||"object"!=typeof e){if((l=n(e))===q)return;return void 0===l&&(l=e),t.F&&P(l,!0),l}f(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))}:[t.produce(e,n,(function(e,t){r=e,o=t})),r,o];var r,o},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){d(e)||f(8),b(e)&&(e=V(e));var t=z(this),n=U(this,e,void 0);return n[Z].C=!0,C(t),n},t.finishDraft=function(e,t){var n=(e&&e[Z]).A;return G(n,t),N(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!X&&f(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var o=A("Patches").$;return b(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(n+1))}))},e}()),ie=le.produce,se=(le.produceWithPatches.bind(le),le.setAutoFreeze.bind(le),le.setUseProxies.bind(le),le.applyPatches.bind(le),le.createDraft.bind(le),le.finishDraft.bind(le),ie);const ce="really_rich_results/global-settings",ue={organization:{name:"",url:"",duns:"",address:{street:"",poBox:"",city:"",state:"",postalCode:"",country:""},sameAs:[]},postTypes:[]},pe={getGlobalSettings:()=>({type:"GET_GLOBAL_SETTINGS"}),getPostTypeSettings:()=>({type:"GET_POST_TYPE_SETTINGS"}),setGlobalSettings:e=>({type:"SET_GLOBAL_SETTINGS",globalSettings:e}),setGlobalSetting:e=>({type:"SET_GLOBAL_SETTING",val:e}),setPostTypeSetting:(e,t)=>({type:"SET_POST_TYPE_SETTING",postType:e,val:t}),setPostTypeSettings:e=>({type:"SET_POST_TYPE_SETTINGS",val:e}),setGlobalOrgSetting:e=>({type:"SET_GLOBAL_ORG_SETTING",val:e}),setGlobalOrgAddressSetting:e=>({type:"SET_GLOBAL_ORG_ADDRESS_SETTING",val:e}),updateSameAs:(e,t)=>({type:"UPDATE_GLOBAL_ORG_SAME_AS",val:e,index:t}),deleteSameAs:e=>({type:"DELETE_GLOBAL_ORG_SAME_AS",index:e})},ge={GET_GLOBAL_SETTINGS:e=>g()({path:"/really_rich_results/v1/settings/site"}),GET_POST_TYPE_SETTINGS:e=>g()({path:"/really_rich_results/v1/settings/post_types"})},fe={*getGlobalSettings(){const e=yield pe.getGlobalSettings();return pe.setGlobalSettings(e)},*getPostTypeSettings(){const e=yield pe.getPostTypeSettings();return pe.setPostTypeSettings(e)}},be=Object(a.createReduxStore)(ce,{reducer(e=ue,t){switch(t.type){case"GET_GLOBAL_SETTINGS":return e;case"SET_GLOBAL_SETTINGS":return{...e,...t.globalSettings};case"SET_GLOBAL_SETTING":return{...e,...t.val};case"SET_GLOBAL_ORG_SETTING":return{...e,organization:{...e.organization,...t.val}};case"SET_GLOBAL_ORG_ADDRESS_SETTING":return{...e,organization:{...e.organization,address:{...e.organization.address,...t.val}}};case"UPDATE_GLOBAL_ORG_SAME_AS":return void 0===t.index?se(e,e=>{e.organization.sameAs.push(t.val)}):se(e,e=>{e.organization.sameAs[t.index]=t.val});case"DELETE_GLOBAL_ORG_SAME_AS":return se(e,e=>{e.organization.sameAs=[...e.organization.sameAs.slice(0,t.index),...e.organization.sameAs.slice(t.index+1,e.organization.sameAs.length)]});case"SET_POST_TYPE_SETTINGS":return{...e,postTypes:{...e.postTypes,...t.val}};case"SET_POST_TYPE_SETTING":return se(e,n=>{n.postTypes[t.postType]={...e.postTypes[t.postType],...t.val}})}return e},actions:pe,selectors:{getGlobalSettings:e=>e,getPostTypeSettings:e=>e.postTypes,getSinglePostTypeSettings:(e,t)=>e.postTypes[t],getGlobalSetting:(e,t)=>e[t],getGlobalOrgSetting:(e,t)=>e.organization[t],getGlobalOrgAddressSetting:(e,t)=>e.organization.address[t]},controls:ge,resolvers:fe});Object(a.register)(be);const de=ce,ye=Object(a.withSelect)(e=>({globalSettings:e(de).getGlobalSettings(),postTypeSettings:e(de).getPostTypeSettings()})),Se=Object(a.withDispatch)(e=>({setGlobalSetting:t=>{e(de).setGlobalSetting(t)},setGlobalOrgSetting:t=>{e(de).setGlobalOrgSetting(t)},setGlobalOrgAddressSetting:t=>{e(de).setGlobalOrgAddressSetting(t)},addEmptyGlobalOrgSameAs:t=>{e(de).updateSameAs(t)},updateSameAs(t,n){e(de).updateSameAs(t,n)},deleteSameAs(t){e(de).deleteSameAs(t)}}));var me=Object(l.compose)(Se,ye)(e=>{const[t,n]=Object(r.useState)({icon:!1,isBusy:!1,className:"save-changes",text:"Save Changes"});return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(o.Panel,{className:"rrr-general-settings"},Object(r.createElement)(o.PanelBody,{title:"Organization Details"},Object(r.createElement)(o.TextControl,{label:"Organization Name",value:e.globalSettings.organization.name,onChange:t=>e.setGlobalOrgSetting({name:t})}),Object(r.createElement)(o.TextControl,{label:"Organization URL",value:e.globalSettings.organization.url,onChange:t=>e.setGlobalOrgSetting({url:t})}),Object(r.createElement)(o.BaseControl,null,Object(r.createElement)(o.BaseControl.VisualLabel,null,"Additional URLs (SameAs)"),e.globalSettings.organization.sameAs.map((t,n)=>Object(r.createElement)(o.PanelRow,null,Object(r.createElement)(o.TextControl,{className:"same-as-field",value:t,onChange:t=>e.updateSameAs(t,n)}),Object(r.createElement)(o.Button,{className:"same-as-remove",icon:c,onClick:()=>e.deleteSameAs(n)}))),Object(r.createElement)(o.PanelRow,{className:"same-as-add"},Object(r.createElement)(o.Button,{isSecondary:!0,icon:u,text:"Add URL",onClick:()=>{e.addEmptyGlobalOrgSameAs("")}}))),Object(r.createElement)(o.TextControl,{label:"Organization DUNS",value:e.globalSettings.organization.duns,onChange:t=>e.setGlobalOrgSetting({duns:t})})),Object(r.createElement)(o.PanelBody,{title:"Organization Address"},Object(r.createElement)(o.TextControl,{label:"Street",value:e.globalSettings.organization.address.street,onChange:t=>e.setGlobalOrgAddressSetting({street:t})}),Object(r.createElement)(o.TextControl,{label:"PO Box",value:e.globalSettings.organization.address.poBox,onChange:t=>e.setGlobalOrgAddressSetting({poBox:t})}),Object(r.createElement)(o.PanelRow,null,Object(r.createElement)(o.TextControl,{className:"org-city",label:"City",value:e.globalSettings.organization.address.city,onChange:t=>e.setGlobalOrgAddressSetting({city:t})}),Object(r.createElement)(o.TextControl,{className:"org-state",label:"State",value:e.globalSettings.organization.address.state,onChange:t=>e.setGlobalOrgAddressSetting({state:t})}),Object(r.createElement)(o.TextControl,{className:"org-postal-code",label:"Postal Code",value:e.globalSettings.organization.address.postalCode,onChange:t=>e.setGlobalOrgAddressSetting({postalCode:t})})),Object(r.createElement)(o.PanelRow,null,Object(r.createElement)(o.TextControl,{label:"Country",value:e.globalSettings.organization.address.country,onChange:t=>e.setGlobalOrgAddressSetting({country:t})})))),Object(r.createElement)(e=>Object(r.createElement)(o.Button,{isBusy:t.isBusy,icon:t.icon,className:t.className,isPrimary:!0,onClick:e.onClick},t.text),{onClick:()=>{return t={...e.globalSettings},n({icon:!1,isBusy:!0,className:"save-changes",text:"Saving"}),void g()({path:"/really_rich_results/v1/settings/site",method:"POST",data:t}).then(e=>{n({icon:s,isBusy:!1,className:"save-changes",text:"Saved Successfully"})});var t}}))});const Oe=Object(a.withSelect)((e,t)=>({postTypeSettings:e(de).getSinglePostTypeSettings(t.postType)})),ve=Object(a.withDispatch)((e,t)=>({setPostTypeSetting(n){e(de).setPostTypeSetting(t.postType,n)}}));var he=Object(l.compose)(Oe,ve)(e=>{const{label:t,enabled:n,schema_type:a,show_author:l,supports:i}=e.postTypeSettings,s=i.schema_type;return Object(r.createElement)(o.PanelBody,{initialOpen:!1,title:t,className:"post-type-panel"},Object(r.createElement)(o.PanelRow,null,Object(r.createElement)(o.ToggleControl,{label:"Enable Schema Output",checked:n,onChange:t=>e.setPostTypeSetting({enabled:t})})),n&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(o.PanelRow,null,Object(r.createElement)(o.SelectControl,{label:"Schema Type",value:a,options:s.map(e=>({value:e,label:e})),onChange:t=>e.setPostTypeSetting({schema_type:t})})),Object(r.createElement)(o.PanelRow,null,Object(r.createElement)(o.ToggleControl,{label:"Show Author Schema",checked:l,onChange:t=>e.setPostTypeSetting({show_author:t})}))),Object(r.createElement)(o.PanelRow,null,Object(r.createElement)(o.Button,{isPrimary:!0,onClick:()=>{return t=e.postTypeSettings,void g()({path:"/really_rich_results/v1/settings/post_types/"+t.name,method:"POST",data:t}).then(e=>{console.log(e)});var t}},`Save ${t} Settings`)))});const Te=Object(a.withSelect)(e=>({postTypeSettings:e(de).getPostTypeSettings()}));var Ee=Object(l.compose)(Te)(e=>Object(r.createElement)(o.Panel,null,Object.keys(e.postTypeSettings).map(e=>Object(r.createElement)(he,{key:e,postType:e}))));const Pe=[{name:"general",title:"General Settings",className:"general-tab"},{name:"post-types",title:"Post Type Settings",className:"post-types-tab"}];Object(r.render)(Object(r.createElement)(()=>Object(r.createElement)("div",{className:"wrap"},Object(r.createElement)("h1",null,"Really Rich Results Settings"),Object(r.createElement)(o.TabPanel,{tabs:Pe},e=>{switch(e.name){case"general":return Object(r.createElement)(me,null);case"post-types":return Object(r.createElement)(Ee,null);default:return Object(r.createElement)("p",null,"Something broke.")}})),null),document.getElementById("root-really-rich-results-settings"))}]);